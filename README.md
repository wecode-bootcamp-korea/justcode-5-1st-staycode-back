# node-project

# stayfolio 클론프로젝트 - staycode

## [역할 배분]

### 1. 상민 : 검색페이지/Nav 백엔드, 메인페이지 백엔드

### 2. 관희 : 회원가입/로그인 백엔드

### 3. 상현 : 예약 페이지 백엔드

### 4. 재훈 : 상세페이지 백엔드

    
    
    

## 프로젝트 회고

### 1. 재훈
[배운점]  
쿼리문을 통해 상세페이지 API를 제작하면서 외래키와 연결된 하위 테이블들을 2차, 3차까지 들어가서 JSON 형태로 반환하는 것을 제작했습니다. ORM을 썼으면 더 편리했을 텐데, 쿼리문으로 구현하여 너무 어려웠고, 앞으로는 ORM을 숙지하여 ORM으로 잘 구현할 수 있도록 공부를 해보겠습니다!

### 2. 관희
[추후 더 구현하고 싶은 기능]  
백엔드 - jwt를 이용. verify를 통해 user_id 찾아서 해당 사용자의 정보를 불러오는 것


[개발 과정 중의 어려움]  
먼저 이전 수업때 로그인 수업이 있어서 무난할줄 알았는데, 갈수록 어려워졌고, 특히 수업중에 token을 깊게 여겨보지를 않아 token의 개념이 뭔지 몰라 헤매대가 팀원들 덕분에 알게 되었고 로그인해서 token까지 받는 것은 어렵지 않았으나 로그인시 실패 했을때 백엔드에서 프론트로 statusCode를 다시 보내는 것이 무척 힘들었습니다.  물론 해결은 했습니다.


[부족한점]  
일단 로그인만 된다고 다된다는 것이 정말 아님을 알게 되었고 token과 jwt의 개념이 전무한 상태에서 구현하려니 많은 어려움이 있고 많이 부족합니다.


[배운점]   
깃을 통한 협업을 처음해보는 저로서는 정말 신기한 기능이었습니다. 팀원들과 함께 각자 브랜치를 나누고 그것을 하나로 묶고 하는등을 통해 많이 배웠고 특기 프리티어가 있어서 처음에는 공백이 있어서 에러나고 또 붙였다고 에러나고 이러는 것이 불편했으나 이것을 통해 깃에서 묶었을때 에러가 나지않는 다는 것을 알고 정말 중요하다는 것을 알았습니다. 앞으로 더 배워 더 많은 것을 이루겠습니다.

### 3. 상민
[구현사항]  
(검색페이지 back)
검색할때 지역,체크인 체크아웃날짜,인원,가격범위,스테이유형,테마 에 대해 먼저 숙소의 각각의 방에대해 체크인 체크아웃날짜,최대인원,가격범위에 대해 예약가능한 방을 필터링하였고, 그 방이 속해있는 숙소들의 지역,스테이유형,테마에 대해 다시 한번 필터링하여 프론트에서 필요한 데이터를 전달 해주었습니다. 해당 숙소에 예약가능한방에 대한 가격정보와 최대인원 등의 데이터를 가져옴 (방 2개중에 한개만 예약가능하면 그 방에 대한 가격, 최대인원 데이터만 가져옴)  

### 4. 상현
[배운점]  
일단, 중간중간에 각자 개발한 내용을 머지하면서 눈으로 직접 확인하며 의견을 나누는 것 그리고 매일 정해진 시간에 짧은 시간이라도 간단하게 회의를 하며 의견을 공유 하는 것 이 정말 중요하다고 느꼈습니다. 그날 그날 개발에 집중하면서도 “아 이 부분이 필요하겠구나!, 이 부분이 부족하겠구나” 생각이 들 때 바로 다음날 피드백을 할 수 있어 잊지않고 바로 얘기해 볼 수 있고 나중에 실수로 다시 롤백하는 일도 줄어드는 것 같습니다.



## APIs

### /accomodation/:id (GET)
숙박시설을 :id로 검색하여 찾아줌

### /findstay (GET)
쿼리스트링으로 온 값으로 필터를 걸어, 해당 필터에 맞는 숙박시설과 Room을 찾아줌

### /room/:id (GET)
Room을 :id로 검색하여 찾아줌

### /signup (POST)
회원가입

### /login (POST)
로그인

### /reservation (POST)
[전달인자]  
room_id,
    reservation_start,
    reservation_end,
    price,
    guest,
    special_requests,
    booker,
    phone,
    email,
    
## PORT
8000


## DATABASE
이름: staycode

## DBdiagram
<img width="635" alt="image" src="https://user-images.githubusercontent.com/40525201/176838990-a53a719a-7cb7-49e8-92f8-21ffad00668b.png">



